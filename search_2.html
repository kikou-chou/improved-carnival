<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
 <title>ぐるなび</title> 
 <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
 <script src="https://unpkg.com/axios/dist/axios.min.js"></script> 
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
</head>

<body>
  <div>
    <div>

      <form action="search_2.html">
        <input id="search-input" placeholder="1つキーワードを入力" type="text" name="search-key">
        <input id="search-buttom" class="fas" type="submit" value="検索" method="get">
      </form>
     
    </div>

    <div  class="target-area">

      <table id="2" border ="1">
        <tr bgcolor="teal"><th>店舗名</th><th>電話番号</th></tr>
      </table>
       
       <script>

      let v = new URLSearchParams(window.location.search);
　     v = v.get('search-key');

      var restrants;
      var a='https://api.gnavi.co.jp/RestSearchAPI/v3/?keyid=276170a85746bbaefe88a4ce71f60084&pref=PREF13'+'&name='+v;
      axios.get(a)
      .then(function (response) {
          restrants=response.data.rest;
          for(var n=0 ;n<restrants.length ; n++)
      {
      
      $("#2").append(`<tr><td>${restrants[n]['name']}</td><td>${restrants[n]['tel']}</td></tr>`);
      
      }
          // handle success
        console.log(response);
      })
      .catch(function (error) {
          // handle error
        console.log(error);
      })
      .finally(function () {
          // always executed
      });
      
     </script>
    </div>
    
  </div>

</body>
</html>